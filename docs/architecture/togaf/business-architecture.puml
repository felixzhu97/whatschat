@startuml
!theme plain
skinparam componentStyle rectangle
skinparam linetype ortho

title TOGAF Business Architecture - WhatsChat Messaging System

package "Business Actors" {
  component [End User] as EndUser
  component [System Administrator] as Admin
}

package "Business Capabilities" {
  component [User Management] as UserMgmt
  component [Instant Messaging] as Messaging
  component [Voice & Video Calls] as VoiceVideo
  component [File Sharing] as FileShare
  component [Group Management] as GroupMgmt
  component [Status Sharing] as StatusShare
  component [Contact Management] as ContactMgmt
  component [Notification Management] as NotificationMgmt
}

package "Business Processes" {
  component [User Registration & Login] as AuthProcess
  component [Send Message] as SendMessageProcess
  component [Start Call] as CallProcess
  component [Create Group] as CreateGroupProcess
  component [Share Status] as StatusProcess
  component [Upload File] as UploadProcess
  component [Add Contact] as ContactProcess
}

package "Business Value" {
  component [Real‑time Communication] as RealTimeComm
  component [Efficient Collaboration] as Collaboration
  component [User Experience] as UserExperience
  component [Data Security] as DataSecurity
}

\' Relationships between business actors and capabilities
EndUser --> UserMgmt : uses
EndUser --> Messaging : uses
EndUser --> VoiceVideo : uses
EndUser --> FileShare : uses
EndUser --> GroupMgmt : uses
EndUser --> StatusShare : uses
EndUser --> ContactMgmt : uses
Admin --> UserMgmt : manages
Admin --> NotificationMgmt : manages

\' Relationships between business processes and capabilities
AuthProcess --> UserMgmt : supports
SendMessageProcess --> Messaging : supports
CallProcess --> VoiceVideo : supports
CreateGroupProcess --> GroupMgmt : supports
StatusProcess --> StatusShare : supports
UploadProcess --> FileShare : supports
ContactProcess --> ContactMgmt : supports

\' Relationships between business processes and business value
AuthProcess --> UserExperience : improves
SendMessageProcess --> RealTimeComm : enables
CallProcess --> RealTimeComm : enables
CreateGroupProcess --> Collaboration : supports
StatusProcess --> UserExperience : improves
UploadProcess --> Collaboration : supports
ContactProcess --> UserExperience : improves
Messaging --> DataSecurity : secured by
VoiceVideo --> DataSecurity : secured by

rectangle "Core Business Process Details" {
  note as N1
    **User registration & login**
    1. User registration (username, email, phone, password)
    2. User login (email/password authentication)
    3. JWT token generation and management
    4. Token refresh mechanism
    5. User logout
  end note
  
  note as N2
    **Send message**
    1. Select chat target or group
    2. Enter/select message content (text, image, video, voice, file)
    3. Send message
    4. Push in real time to recipients
    5. Update message status (sent, delivered, read)
  end note
  
  note as N3
    **Start call**
    1. Select call target
    2. Initiate voice/video call request
    3. Establish WebRTC connection
    4. Maintain call session
    5. End call and record details
  end note
}

note bottom
  **Business architecture description**
  
  WhatsChat, as a real‑time messaging platform, has the following core business capabilities:
  
  1. **User management** – user registration, login, profile management, access control
  2. **Instant messaging** – multiple message types: text, image, video, voice, file
  3. **Voice & video calls** – high‑quality real‑time calls based on WebRTC
  4. **File sharing** – upload, download, and preview for various file types
  5. **Group management** – create groups, manage members, configure group settings
  6. **Status sharing** – online/offline presence and ephemeral status updates
  7. **Contact management** – add, remove, search, organize contacts
  8. **Notification management** – message notifications, system notifications, push notifications
  
  Business value is delivered through real‑time communication, efficient collaboration,
  great user experience, and strong data security.
end note

@enduml
